{"version":3,"file":"ui_ace_gapfiller.min.js","sources":["../src/ui_ace_gapfiller.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more util.details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Implementation of the ace_gapfiller_ui user interface plugin. For overall details\n * of the UI plugin architecture, see userinterfacewrapper.js.\n *\n * This plugin uses the usual ace editor but only makes some portions of the text editable.\n * The pre-formatted text is supplied by the question author in either the\n * \"globalextra\" field or the testcode field of the first test case, according\n * to the ui parameter ui_source (default: globalextra).\n * Editable \"gaps\" are inserted into the ace editor at specified points.\n * It is intended primarily for use with coding questions where the answerbox presents\n * the students with code that has smallish bits missing.\n *\n * The locations within the globalextra text at which the gaps are\n * to be inserted are denoted by \"tags\" of the form\n *\n *     {[ size ]}\n *\n * or\n *\n *     {[ size-maxSize ]}\n *\n * where size and maxSize are integer literals. These respectively inject a \"gap\" into\n * the editor of the specified size and maxSize. If maxSize is not specified then the\n * \"gap\" has no maximum size and can grow without bound.\n *\n * The serialisation of the answer box contents, i.e. the text that\n * copied back into the textarea for submissions\n * as the answer, is simply a list of all the field values (strings), in order.\n *\n * As a special case of the serialisation, if the value list is empty, the\n * serialisation itself is the empty string.\n *\n * The delimiters for the gap tags are by default '{[' and\n * ']}'.\n *\n * @module qtype_coderunner/ui_ace_gapfiller\n * @copyright  Richard Lobb, 2019, The University of Canterbury\n * @copyright  Matthew Toohey, 2021, The University of Canterbury\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n\n    var Range;  // Can't load this until ace has loaded.\n    const fillChar = \" \";\n    const validChars = /[ !\"#$%&'()*+,`\\-./0-9:;<=>?@A-Z\\[\\]\\\\^_a-z{}|~]/;\n    const ACE_DARK_THEME = 'ace/theme/tomorrow_night';\n    const ACE_LIGHT_THEME = 'ace/theme/textmate';\n\n    /**\n     * Constructor for the Ace interface object\n     * @param {string} textareaId The ID of the textarea html element.\n     * @param {int} w The width of the text area in pixels.\n     * @param {int} h The height of the text area in pixels.\n     * @param {object} uiParams The UI parameter specifier object.\n     */\n    function AceGapfillerUi(textareaId, w, h, uiParams) {\n        this.textArea = $(document.getElementById(textareaId));\n        var wrapper = $(document.getElementById(textareaId + '_wrapper')),\n            focused = this.textArea[0] === document.activeElement,\n            lang = uiParams.lang,\n            t = this;  // For embedded callbacks.\n\n        let code = \"\";\n        this.uiParams = uiParams;\n        this.gaps = [];\n        this.source = uiParams.ui_source || 'globalextra';\n        this.nextGapIndex = 0;\n        if (this.source !== 'globalextra' && this.source !== 'test0') {\n            alert('Invalid source for code in ui_ace_gapfiller');\n            this.source = 'globalextra';\n        }\n        if (this.source == 'globalextra') {\n            code = this.textArea.attr('data-globalextra');\n        } else {\n            code = this.textArea.attr('data-test0');\n        }\n\n        try {\n            window.ace.require(\"ace/ext/language_tools\");\n            Range = window.ace.require(\"ace/range\").Range;\n            this.modelist = window.ace.require('ace/ext/modelist');\n\n            this.enabled = false;\n            this.contents_changed = false;\n            this.capturingTab = false;\n            this.clickInProgress = false;\n\n            this.editNode = $(\"<div></div>\"); // Ace editor manages this\n            this.editNode.css({\n                resize: 'none',\n                height: h,\n                width: \"100%\"\n            });\n\n            this.editor = window.ace.edit(this.editNode.get(0));\n            if (this.textArea.prop('readonly')) {\n                this.editor.setReadOnly(true);\n            }\n\n            this.editor.setOptions({\n                displayIndentGuides: false,\n                dragEnabled: false,\n                enableBasicAutocompletion: true,\n                newLineMode: \"unix\",\n            });\n            this.editor.$blockScrolling = Infinity;\n\n            // Set theme to dark if user-prefers-color-scheme is dark,\n            // else use the uiParams theme if provided else use light.\n            if (window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n                this.editor.setTheme(ACE_DARK_THEME);\n            } else if (uiParams.theme) {\n                this.editor.setTheme(\"ace/theme/\" + uiParams.theme);\n            } else {\n                this.editor.setTheme(ACE_LIGHT_THEME);\n            }\n\n            this.setLanguage(lang);\n\n            this.setEventHandlers(this.textArea);\n            this.captureTab();\n\n            // Try to tell Moodle about parts of the editor with z-index.\n            // It is hard to be sure if this is complete. ACE adds all its CSS using JavaScript.\n            // Here, we just deal with things that are known to cause a problem.\n            // Can't do these operations until editor has rendered. So ...\n            this.editor.renderer.on('afterRender', function() {\n                var gutter =  wrapper.find('.ace_gutter');\n                if (gutter.hasClass('moodle-has-zindex')) {\n                    return;  // So we only do what follows once.\n                }\n                gutter.addClass('moodle-has-zindex');\n\n                if (focused) {\n                    t.editor.focus();\n                    t.editor.navigateFileEnd();\n                }\n                t.aceLabel = wrapper.find('.answerprompt');\n                t.aceLabel.attr('for', 'ace_' + textareaId);\n\n                t.aceTextarea = wrapper.find('.ace_text-input');\n                t.aceTextarea.attr('id', 'ace_' + textareaId);\n            });\n\n            this.createGaps(code);\n\n            // Intercept commands sent to ace.\n            this.editor.commands.on(\"exec\", function(e) {\n                let cursor = t.editor.selection.getCursor();\n                let commandName = e.command.name;\n                let selectionRange = t.editor.getSelectionRange();\n\n                let gap = t.findCursorGap(cursor);\n\n                if (commandName.startsWith(\"go\")) {  // If command just moves the cursor then do nothing.\n                    if (gap !== null && commandName === \"gotoright\" && cursor.column === gap.range.start.column+gap.textSize) {\n                        // In this case we jump out of gap over the empty space that contains nothing that the user has entered.\n                        t.editor.moveCursorTo(cursor.row, gap.range.end.column+1);\n                    } else {\n                        return;\n                    }\n                }\n\n                if (gap === null) {\n                    // Not in a gap\n                    if (commandName === \"selectall\") {\n                        t.editor.selection.selectAll();\n                    }\n\n                } else if (commandName === \"indent\") {\n                    // Instead of indenting, move to next gap.\n                    let nextGap = t.gaps[(gap.index+1) % t.gaps.length];\n                    t.editor.moveCursorTo(nextGap.range.start.row, nextGap.range.start.column+nextGap.textSize);\n                    t.editor.selection.clearSelection(); // Clear selection.\n\n                } else if (commandName === \"selectall\") {\n                    // Select all text in a gap if we are in a gap.\n                    t.editor.selection.setSelectionRange(new Range(gap.range.start.row,\n                                                         gap.range.start.column,\n                                                         gap.range.start.row,\n                                                         gap.range.end.column), false);\n\n                } else if (t.editor.selection.isEmpty()) {\n                    // User is not selecting multiple characters.\n                    if (commandName === \"insertstring\") {\n                        let char = e.args;\n                        // Only allow user to insert 'valid' chars.\n                        if (validChars.test(char)) {\n                            gap.insertChar(t.gaps, cursor, char);\n                        }\n                    } else if (commandName === \"backspace\") {\n                        // Only delete chars that are actually in the gap.\n                        if (cursor.column > gap.range.start.column && gap.textSize > 0) {\n                            gap.deleteChar(t.gaps, {row: cursor.row, column: cursor.column-1});\n                        }\n                    } else if (commandName === \"del\") {\n                        // Only delete chars that are actually in the gap.\n                        if (cursor.column < gap.range.start.column + gap.textSize && gap.textSize > 0) {\n                            gap.deleteChar(t.gaps, cursor);\n                        }\n                    }\n                    t.editor.selection.clearSelection(); // Keep selection clear.\n\n                } else if (!t.editor.selection.isEmpty() && gap.cursorInGap(selectionRange.start)\n                           && gap.cursorInGap(selectionRange.end)) {\n                    // User is selecting multiple characters and is in a gap.\n\n                    // These are the commands that remove the selected text.\n                    if (commandName === \"insertstring\" || commandName === \"backspace\"\n                        || commandName === \"del\" || commandName === \"paste\"\n                        || commandName === \"cut\") {\n\n                        gap.deleteRange(t.gaps, selectionRange.start.column, selectionRange.end.column);\n                        t.editor.selection.clearSelection(); // Clear selection.\n                    }\n\n                    if (commandName === \"insertstring\") {\n                        let char = e.args;\n                        if (validChars.test(char)) {\n                            gap.insertChar(t.gaps, selectionRange.start, char);\n                        }\n                    }\n                }\n\n                // Paste text into gap.\n                if (gap !== null && commandName === \"paste\") {\n                    gap.insertText(t.gaps, selectionRange.start.column, e.args.text);\n                }\n\n                e.preventDefault();\n                e.stopPropagation();\n            });\n\n            // Move cursor to where it should be if we click on a gap.\n            t.editor.selection.on('changeCursor', function() {\n                let cursor = t.editor.selection.getCursor();\n                let gap = t.findCursorGap(cursor);\n                if (gap !== null) {\n                    if (cursor.column > gap.range.start.column+gap.textSize) {\n                        t.editor.moveCursorTo(gap.range.start.row, gap.range.start.column+gap.textSize);\n                    }\n                }\n            });\n\n            this.gapToSelect = null;    // Stores gap that has been selected with triple click.\n\n            // Select all text in gap on triple click within gap.\n            this.editor.on(\"tripleclick\", function(e) {\n                let cursor = t.editor.selection.getCursor();\n                let gap = t.findCursorGap(cursor);\n                if (gap !== null) {\n                    t.editor.selection.setSelectionRange(new Range(gap.range.start.row,\n                                                                   gap.range.start.column,\n                                                                   gap.range.start.row,\n                                                                   gap.range.end.column), false);\n                    t.gapToSelect = gap;\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            });\n\n            // Annoying hack to ensure the tripple click thing works.\n            this.editor.on(\"click\", function(e) {\n                if (t.gapToSelect) {\n                    t.editor.moveCursorTo(t.gapToSelect.range.start.row, t.gapToSelect.range.start.column+t.gapToSelect.textSize);\n                    t.gapToSelect = null;\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            });\n\n            this.fail = false;\n            this.reload();\n        }\n        catch(err) {\n            // Something ugly happened. Probably ace editor hasn't been loaded\n            this.fail = true;\n        }\n    }\n\n    /**\n     * The method that creates the gaps at all places containing the appropriate\n     * marker (default {[ ... ]}).\n     * Do not call until after this.editor has been instantiated.\n     * @param {string} code The initial raw text code\n     */\n    AceGapfillerUi.prototype.createGaps = function(code) {\n        this.gaps = [];\n        /**\n         * Escape special characters in a given string.\n         * @param {string} s The input string.\n         * @returns {string} The updated string, with escaped specials.\n         */\n        function reEscape(s) {\n            var c, specials = '{[(*+\\\\', result='';\n            for (var i = 0; i < s.length; i++) {\n                c = s[i];\n                for (var j = 0; j < specials.length; j++) {\n                    if (c === specials[j]) {\n                        c = '\\\\' + c;\n                    }\n                }\n                result += c;\n            }\n            return result;\n        }\n\n        let lines = code.split(/\\r?\\n/);\n\n        let sepLeft = reEscape('{[');\n        let sepRight = reEscape(']}');\n        let splitter = new RegExp(sepLeft + ' *((?:\\\\d+)|(?:\\\\d+- *\\\\d+)) *' + sepRight);\n\n        let editorContent = \"\";\n        for (let i = 0; i < lines.length; i++) {\n            let bits = lines[i].split(splitter);\n            editorContent += bits[0];\n\n            let columnPos = bits[0].length;\n            for (let j = 1; j < bits.length; j += 2) {\n                let values = bits[j].split('-');\n                let minWidth = parseInt(values[0]);\n                let maxWidth = (values.length > 1 ? parseInt(values[1]) : Infinity);\n\n                // Create new gap.\n                let gap = new Gap(this.editor, i, columnPos, minWidth, maxWidth);\n                gap.index = this.nextGapIndex;\n                this.nextGapIndex += 1;\n                this.gaps.push(gap);\n\n                columnPos += minWidth;\n                editorContent += ' '.repeat(minWidth);\n                if (j + 1 < bits.length) {\n                    editorContent += bits[j+1];\n                    columnPos += bits[j+1].length;\n                }\n\n            }\n\n            if (i < lines.length-1) {\n                editorContent += '\\n';\n            }\n        }\n        this.editor.session.setValue(editorContent);\n    };\n\n    /**\n     * Return the gap that the cursor is in. This will actually return a gap if\n     * the cursor is 1 outside the gap as this will be needed for\n     * backspace/insertion to work. Rigth now this is done as a simple\n     * linear search but could be improved later.\n     * @param {object} cursor The ace editor cursor position.\n     * @returns {object} The gap that the cursor is current in, or null otherwise.\n     */\n    AceGapfillerUi.prototype.findCursorGap = function(cursor) {\n        for (let i=0; i < this.gaps.length; i++) {\n            let gap = this.gaps[i];\n            if (gap.cursorInGap(cursor)) {\n                return gap;\n            }\n        }\n        return null;\n    };\n\n    AceGapfillerUi.prototype.failed = function() {\n        return this.fail;\n    };\n\n    AceGapfillerUi.prototype.failMessage = function() {\n        return 'ace_ui_notready';\n    };\n\n\n    // Sync to TextArea\n    AceGapfillerUi.prototype.sync = function() {\n        let serialisation = [];  // A list of field values.\n        let empty = true;\n\n        for (let i=0; i < this.gaps.length; i++) {\n            let gap = this.gaps[i];\n            let value = gap.getText();\n            serialisation.push(value);\n            if (value !== \"\") {\n                empty = false;\n            }\n        }\n        if (empty) {\n            this.textArea.val('');\n        } else {\n            this.textArea.val(JSON.stringify(serialisation));\n        }\n    };\n\n    // Reload the HTML fields from the given serialisation.\n    AceGapfillerUi.prototype.reload = function() {\n        let content = this.textArea.val();\n        if (content) {\n            try {\n                let values = JSON.parse(content);\n                for (let i = 0; i < this.gaps.length; i++) {\n                    let value = i < values.length ? values[i]: '???';\n                    this.gaps[i].insertText(this.gaps, this.gaps[i].range.start.column, value);\n                }\n            } catch(e) {\n                // Just ignore errors\n            }\n        }\n    };\n\n    AceGapfillerUi.prototype.setLanguage = function(language) {\n        var session = this.editor.getSession(),\n            mode = this.findMode(language);\n        if (mode) {\n            session.setMode(mode.mode);\n        }\n    };\n\n    AceGapfillerUi.prototype.getElement = function() {\n        return this.editNode;\n    };\n\n    AceGapfillerUi.prototype.captureTab = function () {\n        this.capturingTab = true;\n        this.editor.commands.bindKeys({'Tab': 'indent', 'Shift-Tab': 'outdent'});\n    };\n\n    AceGapfillerUi.prototype.releaseTab = function () {\n        this.capturingTab = false;\n        this.editor.commands.bindKeys({'Tab': null, 'Shift-Tab': null});\n    };\n\n    AceGapfillerUi.prototype.setEventHandlers = function () {\n        var TAB = 9,\n            ESC = 27,\n            KEY_M = 77,\n            t = this;\n\n        this.editor.getSession().on('change', function() {\n            t.contents_changed = true;\n        });\n\n        this.editor.on('blur', function() {\n            if (t.contents_changed) {\n                t.textArea.trigger('change');\n            }\n        });\n\n        this.editor.on('mousedown', function() {\n            // Event order seems to be (\\ is where the mouse button is pressed, / released):\n            // Chrome: \\ mousedown, mouseup, focusin / click.\n            // Firefox/IE: \\ mousedown, focusin / mouseup, click.\n            t.clickInProgress = true;\n        });\n\n        this.editor.on('focus', function() {\n            if (t.clickInProgress) {\n                t.captureTab();\n            } else {\n                t.releaseTab();\n            }\n        });\n\n        this.editor.on('click', function() {\n            t.clickInProgress = false;\n        });\n\n        this.editor.container.addEventListener('keydown', function(e) {\n            if (e.which === undefined || e.which !== 0) { // Normal keypress?\n                if (e.keyCode === KEY_M && e.ctrlKey && !e.altKey) {\n                    if (t.capturingTab) {\n                        t.releaseTab();\n                    } else {\n                        t.captureTab();\n                    }\n                    e.preventDefault(); // Firefox uses this for mute audio in current browser tab.\n                }\n                else if (e.keyCode === ESC) {\n                    t.releaseTab();\n                }\n                else if (!(e.shiftKey || e.ctrlKey || e.altKey || e.keyCode == TAB)) {\n                    t.captureTab();\n                }\n            }\n        }, true);\n    };\n\n    AceGapfillerUi.prototype.destroy = function () {\n        this.sync();\n        var focused;\n        if (!this.fail) {\n            // Proceed only if this wrapper was correctly constructed\n            focused = this.editor.isFocused();\n            this.editor.destroy();\n            $(this.editNode).remove();\n            if (focused) {\n                this.textArea.focus();\n                this.textArea[0].selectionStart = this.textArea[0].value.length;\n            }\n        }\n    };\n\n    AceGapfillerUi.prototype.hasFocus = function() {\n        return this.editor.isFocused();\n    };\n\n    AceGapfillerUi.prototype.findMode = function (language) {\n        var candidate,\n            filename,\n            result,\n            candidates = [], // List of candidate modes.\n            nameMap = {\n                'octave': 'matlab',\n                'nodejs': 'javascript',\n                'c#': 'cs'\n            };\n\n        if (typeof language !== 'string') {\n            return undefined;\n        }\n        if (language.toLowerCase() in nameMap) {\n            language = nameMap[language.toLowerCase()];\n        }\n\n        candidates = [language, language.replace(/\\d+$/, \"\")];\n        for (var i = 0; i < candidates.length; i++) {\n            candidate = candidates[i];\n            filename = \"input.\" + candidate;\n            result = this.modelist.modesByName[candidate] ||\n                this.modelist.modesByName[candidate.toLowerCase()] ||\n                this.modelist.getModeForPath(filename) ||\n                this.modelist.getModeForPath(filename.toLowerCase());\n\n            if (result && result.name !== 'text') {\n                return result;\n            }\n        }\n        return undefined;\n    };\n\n    AceGapfillerUi.prototype.resize = function(w, h) {\n        this.editNode.outerHeight(h);\n        this.editNode.outerWidth(w);\n        this.editor.resize();\n    };\n\n    /**\n     * Constructor for the Gap object that represents a gap in the source code\n     * that the user is expected to fill.\n     * @param {object} editor The Ace Editor object.\n     * @param {int} row The row within the text of the gap.\n     * @param {int} column The column within the text of the gap.\n     * @param {int} minWidth The minimum width (in characters) of the gap.\n     * @param {int} maxWidth The maximum width (in characters) of the gap.\n     */\n    function Gap(editor, row, column, minWidth, maxWidth=Infinity) {\n        this.editor = editor;\n\n        this.minWidth = minWidth;\n        this.maxWidth = maxWidth;\n\n        this.range = new Range(row, column, row, column+minWidth);\n        this.textSize = 0;\n\n        // Create markers\n        this.editor.session.addMarker(this.range, \"ace-gap-outline\", \"text\", true);\n        this.editor.session.addMarker(this.range, \"ace-gap-background\", \"text\", false);\n    }\n\n    Gap.prototype.cursorInGap = function(cursor) {\n        return (cursor.row >= this.range.start.row && cursor.column >= this.range.start.column &&\n                cursor.row <= this.range.end.row && cursor.column <= this.range.end.column);\n    };\n\n    Gap.prototype.getWidth = function() {\n        return (this.range.end.column-this.range.start.column);\n    };\n\n    Gap.prototype.changeWidth = function(gaps, delta) {\n        this.range.end.column += delta;\n\n        // Update any gaps that come after this one on the same line\n        for (let i=0; i < gaps.length; i++) {\n            let other = gaps[i];\n            if (other.range.start.row === this.range.start.row && other.range.start.column > this.range.end.column) {\n                other.range.start.column += delta;\n                other.range.end.column += delta;\n            }\n        }\n\n        this.editor.$onChangeBackMarker();\n        this.editor.$onChangeFrontMarker();\n    };\n\n    Gap.prototype.insertChar = function(gaps, pos, char) {\n        if (this.textSize === this.getWidth() && this.getWidth() < this.maxWidth) {    // Grow the size of gap and insert char.\n            this.changeWidth(gaps, 1);\n            this.textSize += 1;  // Important to record that texSize has increased before insertion.\n            this.editor.session.insert(pos, char);\n        } else if (this.textSize < this.maxWidth) {   // Insert char.\n            this.editor.session.remove(new Range(pos.row, this.range.end.column-1, pos.row, this.range.end.column));\n            this.textSize += 1;  // Important to record that texSize has increased before insertion.\n            this.editor.session.insert(pos, char);\n        }\n    };\n\n    Gap.prototype.deleteChar = function(gaps, pos) {\n        this.textSize -= 1;\n        this.editor.session.remove(new Range(pos.row, pos.column, pos.row, pos.column+1));\n\n        if (this.textSize >= this.minWidth) {\n            this.changeWidth(gaps, -1);  // Shrink the size of the gap.\n        } else {\n            // Put new space at end so everything is shifted across.\n            this.editor.session.insert({row: pos.row, column: this.range.end.column-1}, fillChar);\n        }\n    };\n\n    Gap.prototype.deleteRange = function(gaps, start, end) {\n        for (let i = start; i < end; i++) {\n            if (start < this.range.start.column+this.textSize) {\n                this.deleteChar(gaps, {row: this.range.start.row, column: start});\n            }\n        }\n    };\n\n    Gap.prototype.insertText = function(gaps, start, text) {\n        for (let i = 0; i < text.length; i++) {\n            if (start+i < this.range.start.column+this.maxWidth) {\n                this.insertChar(gaps, {row: this.range.start.row, column: start+i}, text[i]);\n            }\n        }\n    };\n\n    Gap.prototype.getText = function() {\n        return this.editor.session.getTextRange(new Range(this.range.start.row, this.range.start.column,\n                                                this.range.end.row, this.range.start.column+this.textSize));\n\n    };\n\n    return {\n        Constructor: AceGapfillerUi\n    };\n});\n"],"names":["define","$","Range","validChars","AceGapfillerUi","textareaId","w","h","uiParams","this","textArea","document","getElementById","wrapper","focused","activeElement","lang","t","code","gaps","source","ui_source","nextGapIndex","alert","attr","window","ace","require","modelist","enabled","contents_changed","capturingTab","clickInProgress","editNode","css","resize","height","width","editor","edit","get","prop","setReadOnly","setOptions","displayIndentGuides","dragEnabled","enableBasicAutocompletion","newLineMode","$blockScrolling","Infinity","matchMedia","matches","setTheme","theme","setLanguage","setEventHandlers","captureTab","renderer","on","gutter","find","hasClass","addClass","focus","navigateFileEnd","aceLabel","aceTextarea","createGaps","commands","e","cursor","selection","getCursor","commandName","command","name","selectionRange","getSelectionRange","gap","findCursorGap","startsWith","column","range","start","textSize","moveCursorTo","row","end","selectAll","nextGap","index","length","clearSelection","setSelectionRange","isEmpty","char","args","test","insertChar","deleteChar","cursorInGap","deleteRange","insertText","text","preventDefault","stopPropagation","gapToSelect","fail","reload","err","Gap","minWidth","maxWidth","arguments","undefined","session","addMarker","prototype","reEscape","s","c","result","i","j","specials","lines","split","sepLeft","sepRight","splitter","RegExp","editorContent","bits","columnPos","values","parseInt","push","repeat","setValue","failed","failMessage","sync","serialisation","empty","value","getText","val","JSON","stringify","content","parse","language","getSession","mode","findMode","setMode","getElement","bindKeys","Tab","releaseTab","trigger","container","addEventListener","which","keyCode","ctrlKey","altKey","shiftKey","destroy","isFocused","remove","selectionStart","hasFocus","candidate","filename","candidates","nameMap","octave","nodejs","toLowerCase","replace","modesByName","getModeForPath","outerHeight","outerWidth","getWidth","changeWidth","delta","other","$onChangeBackMarker","$onChangeFrontMarker","pos","insert","getTextRange","Constructor"],"mappings":"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"}